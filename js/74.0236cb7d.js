"use strict";(self["webpackChunkadmin_motosusadas_uy"]=self["webpackChunkadmin_motosusadas_uy"]||[]).push([[74],{2074:function(e,a,t){t.r(a),t.d(a,{default:function(){return B}});t(4114);var l=t(641),n=t(33),s=t(3751),d=t(2807),r=t(3813),u=t(6756),i=t(5526),o=t(3948);const c={class:"mt-7"},v={class:"mb-5"};function b(e,a,t,b,m,f){const p=(0,l.g2)("Heading"),_=(0,l.g2)("search-brands"),k=(0,l.g2)("Field"),h=(0,l.g2)("Form",!0),F=(0,l.g2)("SplitContent");return(0,l.uX)(),(0,l.Wv)(r.I,{fluid:"",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{title:(0,l.k6)((()=>[(0,l.Lk)("h2",null,(0,n.v_)(e.brand?e.$t("edit-brand"):e.$t("new-brand")),1),(0,l.Lk)("p",null,(0,n.v_)(e.$t("brands-.details-sub-heading")),1)])),actions:(0,l.k6)((()=>[(0,l.eW)("Â  ")])),_:1}),(0,l.bo)((0,l.bF)(F,{"hide-auxiliar":!e.brand},{auxiliar:(0,l.k6)((()=>[(0,l.bF)(_)])),default:(0,l.k6)((()=>[(0,l.bF)(h,{onSubmit:b.submitForm},{default:(0,l.k6)((({meta:t,errors:r})=>[(0,l.bF)(u.L,{justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(i.B,{cols:"12",md:b.location?"8":""},{default:(0,l.k6)((()=>[(0,l.bF)(u.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(i.B,{cols:"12",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.Lk)("h4",c,(0,n.v_)(e.$t("brands-.data")),1),(0,l.Lk)("p",v,(0,n.v_)(e.$t("brands-.information-text")),1)])),_:1}),(0,l.bF)(i.B,{cols:"12",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{modelValue:b.request.name,"onUpdate:modelValue":a[0]||(a[0]=e=>b.request.name=e),name:"name",rules:"required"},{default:(0,l.k6)((({field:a,errors:t,value:n})=>[(0,l.bF)(o.W,(0,l.v6)(a,{"model-value":n,variant:"outlined","error-messages":t,label:e.$t("name")}),null,16,["model-value","error-messages","label"])])),_:2},1032,["modelValue"])])),_:2},1024),(0,l.bF)(i.B,{cols:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(d.D,{elevation:"0",variant:"outlined",color:"red",block:"",onClick:a[1]||(a[1]=(0,s.D$)((a=>e.$router.push({name:"brands"})),["prevent"]))},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.$t("discard")),1)])),_:1})])),_:1}),(0,l.bF)(i.B,{cols:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(d.D,{color:"primary",type:"submit",disabled:!t.valid,elevation:"0",block:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.$t("submit")),1)])),_:2},1032,["disabled"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["md"])])),_:2},1024)])),_:1},8,["onSubmit"])])),_:1},8,["hide-auxiliar"]),[[s.aG,!b.isLoading]])])),_:1})}var m=t(953),f=t(6278),p=t(8118),_=t(768),k=t(8700),h=t(5220),F=t(8643),g={components:{Heading:p.A,SplitContent:_.A,searchBrands:k.A},setup(){const e=(0,m.KR)(!0),a=(0,f.Pj)(),t=(0,m.KR)({name:""}),n=(0,m.KR)(null),s=(0,h.lq)(),d=(0,h.rd)();(0,l.wB)((()=>s.params.id),(async l=>{if(a.dispatch("SET_LOADING",!0),"string"===typeof l){const e=await F.A.getBrandById(l);void 0!==e&&(n.value={id:e.id,name:e.name},t.value={name:e.name})}else n.value=null,t.value={name:""};e.value=!1,a.dispatch("SET_LOADING",!1)}),{immediate:!0});const r=async()=>{try{n.value?(await a.dispatch("brands/updateBrand",{brandId:n.value.id,data:t.value}),await a.dispatch("notificator/success","brand-updated-success")):(await a.dispatch("brands/createBrand",t.value),await a.dispatch("notificator/success","brand-created-success")),d.push({name:"brands"})}catch(e){await a.dispatch("notificator/errorResponse",e)}};return{request:t,location:location,submitForm:r,isLoading:e}}},y=t(6262);const w=(0,y.A)(g,[["render",b],["__scopeId","data-v-2553df62"]]);var B=w},8700:function(e,a,t){t.d(a,{A:function(){return k}});var l=t(641),n=t(33),s=t(6756),d=t(5526),r=t(2164),u=t(7254),i=t(7294),o=t(3948);function c(e,a,t,c,v,b){return(0,l.uX)(),(0,l.Wv)(s.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(d.B,null,{default:(0,l.k6)((()=>[(0,l.bF)(s.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(d.B,{class:"mt-2"},{default:(0,l.k6)((()=>[(0,l.bF)(o.W,{dense:"","hide-details":"",modelValue:c.search,"onUpdate:modelValue":a[0]||(a[0]=e=>c.search=e),variant:"outlined",label:e.$t("search")},null,8,["modelValue","label"])])),_:1})])),_:1}),(0,l.bF)(s.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(d.B,{class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(r.x,{class:"v-list-search-result"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.filteredBrands,((e,a)=>((0,l.uX)(),(0,l.Wv)(u.g,{key:a,color:"primary",onClick:e=>c.selectedItem=a,selected:c.selectedItem===a},{default:(0,l.k6)((()=>[(0,l.bF)(i.U,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.name),1)])),_:2},1024)])),_:2},1032,["onClick","selected"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}t(4114);var v=t(5220),b=t(953),m=t(6278),f={name:"SearchBrands",setup(){const e=(0,v.rd)(),a=(0,v.lq)(),t=(0,m.Pj)(),n=(0,b.KR)(null),s=(0,b.KR)(""),d=(0,b.KR)(null),r=(0,l.EW)((()=>t.state.brands.brands||[])),u=(0,l.EW)((()=>{if(!s.value)return r.value;const e=s.value.toLowerCase();return r.value.filter((a=>a.name&&a.name.toLowerCase().includes(e)))}));(0,l.wB)(s,(async()=>{n.value&&clearTimeout(n.value),n.value=window.setTimeout((function(){i()}),1e3)})),(0,l.wB)(d,(async a=>{let t="brands-edit";"brands-details"===e.currentRoute.value.name&&(t="brands-details"),null!==d.value&&u.value[d.value]&&e.push({name:t,params:{id:u.value[d.value].id}})}));const i=async()=>{try{const e={search:s.value||null};await t.dispatch("brands/loadBrands",e)}catch(e){t.dispatch("notificator/errorResponse",e)}};return(0,l.sV)((async()=>{if(await i(),u.value){const e=u.value.findIndex((e=>e.id===a.params.id));-1!==e&&(d.value=e)}})),{search:s,filteredBrands:u,selectedItem:d}}},p=t(6262);const _=(0,p.A)(f,[["render",c],["__scopeId","data-v-5fc8b94a"]]);var k=_},8118:function(e,a,t){t.d(a,{A:function(){return p}});var l=t(641),n=t(33),s=t(2807),d=t(6756),r=t(5526),u=t(9669);const i={class:"heading-container"};function o(e,a,t,o,c,v){return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.bF)(d.L,{class:"mt-5"},{default:(0,l.k6)((()=>[(0,l.bF)(r.B,{cols:"8",sm:"4",class:"heading-title"},{default:(0,l.k6)((()=>[(0,l.RG)(e.$slots,"title",{},(()=>[(0,l.Lk)("h2",null,(0,n.v_)(e.$t("dashboard")),1),(0,l.Lk)("p",null,(0,n.v_)(e.$t("dashboard-welcome")),1)]),!0)])),_:3}),(0,l.bF)(r.B,{cols:"4",sm:"8",class:"heading-actions"},{default:(0,l.k6)((()=>[(0,l.RG)(e.$slots,"actions",{},void 0,!0),o.lgAndUp?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(s.D,{key:0,text:"",dark:"",class:"action-btn",onClick:o.toggleDrawer},{default:(0,l.k6)((()=>[(0,l.bF)(u.w,{color:"#2d6283"},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-menu")])),_:1})])),_:1},8,["onClick"]))])),_:3})])),_:3})])}var c=t(6278),v=t(8353),b={setup(){const{lgAndUp:e}=(0,v._F)(),a=(0,c.Pj)(),t=()=>{a.commit("toggleDrawer")};return{lgAndUp:e,toggleDrawer:t}}},m=t(6262);const f=(0,m.A)(b,[["render",o],["__scopeId","data-v-6ab045b7"]]);var p=f},768:function(e,a,t){t.d(a,{A:function(){return c}});var l=t(641),n=t(33);const s={key:0};function d(e,a,t,d,r,u){return(0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)("split-content "+(t.hideAuxiliar?"split-content__single":""))},[t.hideAuxiliar?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",s,[(0,l.RG)(e.$slots,"auxiliar",{},void 0,!0)])),(0,l.Lk)("div",null,[(0,l.RG)(e.$slots,"default",{},void 0,!0)])],2)}var r=t(953),u={props:{hideAuxiliar:{type:Boolean,default:!1}},setup(e){const a=(0,r.KR)({});return(0,l.sV)((()=>{})),{data:a}}},i=t(6262);const o=(0,i.A)(u,[["render",d],["__scopeId","data-v-7d834eee"]]);var c=o}}]);
//# sourceMappingURL=74.0236cb7d.js.map