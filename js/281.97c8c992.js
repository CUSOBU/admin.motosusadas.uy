"use strict";(self["webpackChunkadmin_motosusadas_uy"]=self["webpackChunkadmin_motosusadas_uy"]||[]).push([[281],{7281:function(e,a,l){l.r(a),l.d(a,{default:function(){return I}});l(4114);var t=l(641),o=l(33),n=l(3751),s=l(2807),i=l(418),d=l(5272),r=l(2162),m=l(2421),u=l(3813),c=l(6756),p=l(5526),b=l(9669),f=l(3948);const k={class:"d-none d-sm-inline"},v={class:"d-md-none"},h={class:"d-none d-md-block"};function _(e,a,l,_,g,w){const F=(0,t.g2)("Heading"),y=(0,t.g2)("models-table"),V=(0,t.g2)("SplitView");return(0,t.uX)(),(0,t.Wv)(u.I,{fluid:"",class:"py-0"},{default:(0,t.k6)((()=>[(0,t.bF)(F,null,{title:(0,t.k6)((()=>[(0,t.Lk)("h2",null,(0,o.v_)(e.$t("models")),1),(0,t.Lk)("p",null,(0,o.v_)(e.$t("models-management")),1)])),actions:(0,t.k6)((()=>[(0,t.bF)(s.D,{color:"primary",variant:"flat",elevation:"0",onClick:a[0]||(a[0]=(0,n.D$)((e=>_.router.push({name:"models-create"})),["prevent"]))},{default:(0,t.k6)((()=>[(0,t.bF)(b.w,null,{default:(0,t.k6)((()=>[(0,t.eW)("mdi-plus")])),_:1}),(0,t.Lk)("span",k,(0,o.v_)(e.$t("new-model")),1)])),_:1})])),_:1}),(0,t.bF)(V,{class:"mt-3"},{auxiliar:(0,t.k6)((()=>[(0,t.Lk)("div",v,[(0,t.bF)(i.$t,{variant:"accordion",modelValue:_.mobileFiltersExpanded,"onUpdate:modelValue":a[2]||(a[2]=e=>_.mobileFiltersExpanded=e)},{default:(0,t.k6)((()=>[(0,t.bF)(d.c,null,{default:(0,t.k6)((()=>[(0,t.bF)(r.w,{class:"mobile-filters-title"},{default:(0,t.k6)((()=>[(0,t.bF)(b.w,{class:"mr-2"},{default:(0,t.k6)((()=>[(0,t.eW)("mdi-magnify")])),_:1}),(0,t.Lk)("h4",null,(0,o.v_)(e.$t("search")),1)])),_:1}),(0,t.bF)(m.T,null,{default:(0,t.k6)((()=>[(0,t.bF)(c.L,null,{default:(0,t.k6)((()=>[(0,t.bF)(p.B,{cols:"12",class:"pb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(f.W,{class:"simple-search-result",variant:"outlined",label:e.$t("search"),"prepend-inner-icon":"mdi-magnify",clearable:"",modelValue:_.filters.keyword,"onUpdate:modelValue":a[1]||(a[1]=e=>_.filters.keyword=e)},null,8,["label","modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,t.Lk)("div",h,[(0,t.bF)(c.L,null,{default:(0,t.k6)((()=>[(0,t.bF)(p.B,{cols:"12",class:"pb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(f.W,{class:"simple-search-result",variant:"outlined",label:e.$t("search"),"prepend-inner-icon":"mdi-magnify",clearable:"",modelValue:_.filters.keyword,"onUpdate:modelValue":a[3]||(a[3]=e=>_.filters.keyword=e)},null,8,["label","modelValue"])])),_:1})])),_:1})])])),default:(0,t.k6)((()=>[(0,t.bF)(y,{search:_.filters.keyword},null,8,["search"])])),_:1})])),_:1})}var g=l(953),w=l(8118),F=l(768);const y={class:"table-container"},V={class:"payment-buttons buttons buttons--3",style:{"white-space":"nowrap"}};function C(e,a,l,n,i,d){const r=(0,t.g2)("RemoveDialog"),m=(0,t.g2)("datatable");return(0,t.uX)(),(0,t.CE)("div",y,[(0,t.bF)(m,{headers:n.headers,items:n.models,"items-per-page":n.itemsPerPage,page:n.page,"onUpdate:options":n.handleTableOptions,class:"v-data-table--in-row-headers",headerless:""},{"item.name":(0,t.k6)((({item:a})=>[(0,t.Lk)("span",null,(0,o.v_)(e.$t("name")),1),(0,t.Lk)("span",null,(0,o.v_)(a.name),1)])),"item.brandName":(0,t.k6)((({item:a})=>[(0,t.Lk)("span",null,(0,o.v_)(e.$t("brand")),1),(0,t.Lk)("span",null,(0,o.v_)(a.brand?.name||"-"),1)])),"item.actions":(0,t.k6)((({item:e})=>[(0,t.Lk)("div",V,[(0,t.bF)(s.D,{small:"",icon:"",class:"pl-0 pr-0 fg-primary",onClick:a=>n.info(e.id)},{default:(0,t.k6)((()=>[(0,t.bF)(b.w,{"max-width":"22px"},{default:(0,t.k6)((()=>[(0,t.eW)("mdi-information-outline")])),_:1})])),_:2},1032,["onClick"]),(0,t.bF)(s.D,{small:"",icon:"",class:"ml-2 pl-0 pr-0",onClick:a=>n.edit(e.id)},{default:(0,t.k6)((()=>[(0,t.bF)(b.w,{color:"primary","max-width":"40px"},{default:(0,t.k6)((()=>[(0,t.eW)("mdi-circle-edit-outline")])),_:1})])),_:2},1032,["onClick"]),(0,t.bF)(s.D,{small:"",icon:"",class:"ml-2 pl-0 pr-0",onClick:a=>n.openRemoveDialog(e.id)},{default:(0,t.k6)((()=>[(0,t.bF)(b.w,{color:"error","max-width":"40px"},{default:(0,t.k6)((()=>[(0,t.eW)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"]),(0,t.bF)(r,{item:e,show:n.dialogVisibleId===e.id,onRemoved:n.reload,"onUpdate:show":a=>n.onDialogUpdate(a,e.id)},null,8,["item","show","onRemoved","onUpdate:show"])])])),_:1},8,["headers","items","items-per-page","page","onUpdate:options"])])}var D=l(1459),L=l(9879),R=l(6278),W=l(5769),$={components:{Datatable:L.A,RemoveDialog:W.A},props:{search:{type:String,default:""}},setup(e){const a=(0,R.Pj)(),l=(0,g.KR)(1),o=(0,g.KR)(10),n=(0,t.EW)((()=>a.state.models.models||[])),s=(0,g.KR)(null),i=(0,g.KR)(!1),d=async(l={})=>{if(!i.value)try{i.value=!0;const l={search:e.search||null};await a.dispatch("models/loadModels",l)}catch(t){a.dispatch("notificator/errorResponse",t)}finally{i.value=!1}},r=e=>{l.value=e.page,o.value=e.itemsPerPage,d(e)};(0,t.wB)([()=>e.search],(()=>{l.value=1,d()}));const m=(0,t.EW)((()=>[{title:"Nombre",value:"name",align:"start",sortable:!1},{title:"Marca",value:"brandName",align:"start",sortable:!1},{title:"Acciones",value:"actions",align:"center",sortable:!1}])),u=e=>{D.A.push({name:"models-edit",params:{id:e}})},c=e=>{D.A.push({name:"models-details",params:{id:e}})},p=e=>{s.value=e},b=(e,a)=>{e||(s.value=null)},f=()=>{d()};return{models:n,headers:m,page:l,itemsPerPage:o,handleTableOptions:r,edit:u,info:c,openRemoveDialog:p,dialogVisibleId:s,onDialogUpdate:b,reload:f}}},A=l(6262);const x=(0,A.A)($,[["render",C],["__scopeId","data-v-323db5fe"]]);var U=x,P=l(5220),E={components:{Heading:w.A,ModelsTable:U,SplitView:F.A},setup(){const e=(0,P.rd)(),a=(0,g.KR)([]),l=(0,g.Kh)({keyword:""});return{filters:l,router:e,mobileFiltersExpanded:a}}};const K=(0,A.A)(E,[["render",_],["__scopeId","data-v-18388fd1"]]);var I=K},5769:function(e,a,l){l.d(a,{A:function(){return u}});var t=l(641),o=l(33);function n(e,a,l,n,s,i){const d=(0,t.g2)("confirm-dialog");return(0,t.uX)(),(0,t.Wv)(d,{"model-value":l.show,"onUpdate:modelValue":a[0]||(a[0]=a=>e.$emit("update:show",a)),onConfirmed:n.remove},{title:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(e.$t("delete-model")),1)])),default:(0,t.k6)((()=>[(0,t.eW)(" "+(0,o.v_)(e.$t("delete-model-confirmation",{name:l.item?l.item.name:"-"})),1)])),_:1},8,["model-value","onConfirmed"])}var s=l(6278),i=l(4863),d={components:{ConfirmDialog:i.A},props:{item:{type:Object,required:!1,default:null},show:{type:Boolean,default:!1}},emits:["removed","update:show"],setup(e,{emit:a}){const l=(0,s.Pj)(),t=async()=>{try{await l.dispatch("models/deleteModel",e.item.id),await l.dispatch("notificator/success","model-deleted-success"),a("removed"),a("update:show",!1)}catch(t){await l.dispatch("notificator/errorResponse",t)}};return{remove:t}}},r=l(6262);const m=(0,r.A)(d,[["render",n]]);var u=m}}]);
//# sourceMappingURL=281.97c8c992.js.map