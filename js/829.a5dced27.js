"use strict";(self["webpackChunkadmin_motosusadas_uy"]=self["webpackChunkadmin_motosusadas_uy"]||[]).push([[829],{1216:function(e,a,t){t.r(a),t.d(a,{default:function(){return B}});t(4114);var l=t(641),s=t(33),n=t(3751),o=t(2807),i=t(3813),d=t(6756),r=t(5526),u=t(7973),c=t(3948);const m={class:"mt-7"},p={class:"mb-5"};function v(e,a,t,v,f,b){const h=(0,l.g2)("Heading"),y=(0,l.g2)("search-models"),_=(0,l.g2)("Field"),g=(0,l.g2)("Form",!0),k=(0,l.g2)("SplitContent");return(0,l.uX)(),(0,l.Wv)(i.I,{fluid:"",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{title:(0,l.k6)((()=>[(0,l.Lk)("h2",null,(0,s.v_)(v.model?e.$t("edit-model"):e.$t("new-model")),1),(0,l.Lk)("p",null,(0,s.v_)(e.$t("models-.details-sub-heading")),1)])),actions:(0,l.k6)((()=>[(0,l.eW)("Â  ")])),_:1}),(0,l.bo)((0,l.bF)(k,{"hide-auxiliar":!v.model},{auxiliar:(0,l.k6)((()=>[(0,l.bF)(y)])),default:(0,l.k6)((()=>[(0,l.bF)(g,{onSubmit:v.submitForm},{default:(0,l.k6)((({meta:t,errors:i})=>[(0,l.bF)(d.L,{justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(r.B,{cols:"12",md:v.model?"8":""},{default:(0,l.k6)((()=>[(0,l.bF)(d.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(r.B,{cols:"12",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.Lk)("h4",m,(0,s.v_)(e.$t("models-.data")),1),(0,l.Lk)("p",p,(0,s.v_)(e.$t("models-.information-text")),1)])),_:1}),(0,l.bF)(r.B,{cols:"12",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{modelValue:v.request.name,"onUpdate:modelValue":a[0]||(a[0]=e=>v.request.name=e),name:"name",rules:"required"},{default:(0,l.k6)((({field:a,errors:t,value:s})=>[(0,l.bF)(c.W,(0,l.v6)(a,{"model-value":s,variant:"outlined","error-messages":t,label:e.$t("name")}),null,16,["model-value","error-messages","label"])])),_:2},1032,["modelValue"])])),_:2},1024),(0,l.bF)(r.B,{cols:"12",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{modelValue:v.request.brandId,"onUpdate:modelValue":a[1]||(a[1]=e=>v.request.brandId=e),name:"brandId",rules:"required"},{default:(0,l.k6)((({field:a,errors:t,value:s})=>[(0,l.bF)(u.d4,(0,l.v6)(a,{"model-value":s,variant:"outlined",label:e.$t("brand"),"error-messages":t,items:v.brands,"item-title":"name","item-value":"id"}),null,16,["model-value","label","error-messages","items"])])),_:2},1032,["modelValue"])])),_:2},1024),(0,l.bF)(r.B,{cols:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(o.D,{elevation:"0",variant:"outlined",color:"red",block:"",onClick:a[2]||(a[2]=(0,n.D$)((a=>e.$router.push({name:"models"})),["prevent"]))},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.$t("discard")),1)])),_:1})])),_:1}),(0,l.bF)(r.B,{cols:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(o.D,{color:"primary",type:"submit",disabled:!t.valid,elevation:"0",block:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.$t("submit")),1)])),_:2},1032,["disabled"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["md"])])),_:2},1024)])),_:1},8,["onSubmit"])])),_:1},8,["hide-auxiliar"]),[[n.aG,!v.isLoading]])])),_:1})}var f=t(953),b=t(6278),h=t(8118),y=t(768),_=t(9752),g=t(5220),k=t(7087),w={components:{Heading:h.A,SplitContent:y.A,searchModels:_.A},setup(){const e=(0,f.KR)(!0),a=(0,b.Pj)(),t=(0,f.KR)({name:"",brandId:""}),s=(0,f.KR)(null),n=(0,g.lq)(),o=(0,g.rd)(),i=(0,f.KR)([]),d=async()=>{try{await a.dispatch("brands/loadBrands"),i.value=a.state.brands.brands}catch(e){a.dispatch("notificator/errorResponse",e)}};(0,l.sV)((async()=>{await d()})),(0,l.wB)((()=>n.params.id),(async l=>{if(a.dispatch("SET_LOADING",!0),"string"===typeof l){const e=await k.A.getModelById(l);void 0!==e&&(s.value={id:e.id,name:e.name,brandId:e.brandId},t.value={name:e.name,brandId:e.brandId})}else s.value=null,t.value={name:"",brandId:""};e.value=!1,a.dispatch("SET_LOADING",!1)}),{immediate:!0});const r=async()=>{try{s.value?(await a.dispatch("models/updateModel",{modelId:s.value.id,data:t.value}),await a.dispatch("notificator/success","model-updated-success")):(await a.dispatch("models/createModel",t.value),await a.dispatch("notificator/success","model-created-success")),o.push({name:"models"})}catch(e){await a.dispatch("notificator/errorResponse",e)}};return{request:t,model:s,submitForm:r,isLoading:e,brands:i}}},F=t(6262);const I=(0,F.A)(w,[["render",v],["__scopeId","data-v-5091e167"]]);var B=I},9752:function(e,a,t){t.d(a,{A:function(){return _}});var l=t(641),s=t(33),n=t(6756),o=t(5526),i=t(2164),d=t(7254),r=t(7294),u=t(7505),c=t(3948);function m(e,a,t,m,p,v){return(0,l.uX)(),(0,l.Wv)(n.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(o.B,null,{default:(0,l.k6)((()=>[(0,l.bF)(n.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(o.B,{class:"mt-2"},{default:(0,l.k6)((()=>[(0,l.bF)(c.W,{dense:"","hide-details":"",modelValue:m.search,"onUpdate:modelValue":a[0]||(a[0]=e=>m.search=e),variant:"outlined",label:e.$t("search")},null,8,["modelValue","label"])])),_:1})])),_:1}),(0,l.bF)(n.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(o.B,{class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(i.x,{class:"v-list-search-result"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(m.filteredModels,((e,a)=>((0,l.uX)(),(0,l.Wv)(d.g,{key:a,color:"primary",onClick:e=>m.selectedItem=a,selected:m.selectedItem===a},{default:(0,l.k6)((()=>[(0,l.bF)(r.U,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.name),1)])),_:2},1024),(0,l.bF)(u.w,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.brand?.name||"-"),1)])),_:2},1024)])),_:2},1032,["onClick","selected"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}t(4114);var p=t(5220),v=t(953),f=t(6278),b={name:"SearchModels",setup(){const e=(0,p.rd)(),a=(0,p.lq)(),t=(0,f.Pj)(),s=(0,v.KR)(null),n=(0,v.KR)(""),o=(0,v.KR)(null),i=(0,l.EW)((()=>t.state.models.models||[])),d=(0,l.EW)((()=>{if(!n.value)return i.value;const e=n.value.toLowerCase();return i.value.filter((a=>a.name&&a.name.toLowerCase().includes(e)||a.brand?.name&&a.brand.name.toLowerCase().includes(e)))}));(0,l.wB)(n,(async()=>{s.value&&clearTimeout(s.value),s.value=window.setTimeout((function(){r()}),1e3)})),(0,l.wB)(o,(async a=>{let t="models-edit";"models-details"===e.currentRoute.value.name&&(t="models-details"),null!==o.value&&d.value[o.value]&&e.push({name:t,params:{id:d.value[o.value].id}})}));const r=async()=>{try{const e={search:n.value||null};await t.dispatch("models/loadModels",e)}catch(e){t.dispatch("notificator/errorResponse",e)}};return(0,l.sV)((async()=>{if(await r(),d.value){const e=d.value.findIndex((e=>e.id===a.params.id));-1!==e&&(o.value=e)}})),{search:n,filteredModels:d,selectedItem:o}}},h=t(6262);const y=(0,h.A)(b,[["render",m],["__scopeId","data-v-21134cde"]]);var _=y},6856:function(e,a,t){t.d(a,{_:function(){return c}});var l=t(641),s=t(3751),n=t(4587),o=t(1247),i=t(2419),d=t(1884),r=t(9886);const u=(0,n.j)({target:[Object,Array]},"v-dialog-transition"),c=(0,o.RW)()({name:"VDialogTransition",props:u(),setup(e,a){let{slots:t}=a;const n={onBeforeEnter(e){e.style.pointerEvents="none",e.style.visibility="hidden"},async onEnter(a,t){await new Promise((e=>requestAnimationFrame(e))),await new Promise((e=>requestAnimationFrame(e))),a.style.visibility="";const{x:l,y:s,sx:n,sy:o,speed:r}=p(e.target,a),u=(0,i.i)(a,[{transform:`translate(${l}px, ${s}px) scale(${n}, ${o})`,opacity:0},{}],{duration:225*r,easing:d.S8});m(a)?.forEach((e=>{(0,i.i)(e,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*r,easing:d.B2})})),u.finished.then((()=>t()))},onAfterEnter(e){e.style.removeProperty("pointer-events")},onBeforeLeave(e){e.style.pointerEvents="none"},async onLeave(a,t){await new Promise((e=>requestAnimationFrame(e)));const{x:l,y:s,sx:n,sy:o,speed:r}=p(e.target,a),u=(0,i.i)(a,[{},{transform:`translate(${l}px, ${s}px) scale(${n}, ${o})`,opacity:0}],{duration:125*r,easing:d.z3});u.finished.then((()=>t())),m(a)?.forEach((e=>{(0,i.i)(e,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*r,easing:d.B2})}))},onAfterLeave(e){e.style.removeProperty("pointer-events")}};return()=>e.target?(0,l.bF)(s.eB,(0,l.v6)({name:"dialog-transition"},n,{css:!1}),t):(0,l.bF)(s.eB,{name:"dialog-transition"},t)}});function m(e){const a=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return a&&[...a]}function p(e,a){const t=(0,r.Li)(e),l=(0,i.P)(a),[s,n]=getComputedStyle(a).transformOrigin.split(" ").map((e=>parseFloat(e))),[o,d]=getComputedStyle(a).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=t.left+t.width/2;"left"===o||"left"===d?u-=t.width/2:"right"!==o&&"right"!==d||(u+=t.width/2);let c=t.top+t.height/2;"top"===o||"top"===d?c-=t.height/2:"bottom"!==o&&"bottom"!==d||(c+=t.height/2);const m=t.width/l.width,p=t.height/l.height,v=Math.max(1,m,p),f=m/v||0,b=p/v||0,h=l.width*l.height/(window.innerWidth*window.innerHeight),y=h>.12?Math.min(1.5,10*(h-.12)+1):1;return{x:u-(s+l.left),y:c-(n+l.top),sx:f,sy:b,speed:y}}}}]);
//# sourceMappingURL=829.a5dced27.js.map