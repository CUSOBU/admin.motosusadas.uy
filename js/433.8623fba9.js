"use strict";(self["webpackChunkadmin_motosusadas_uy"]=self["webpackChunkadmin_motosusadas_uy"]||[]).push([[433],{1814:function(e,a,l){l.r(a),l.d(a,{default:function(){return I}});l(4114);var t=l(641),n=l(33),i=l(3751),o=l(2807),s=l(418),d=l(5272),r=l(2162),c=l(2421),u=l(3813),m=l(6756),p=l(5526),f=l(9669),b=l(3948);const k={class:"d-none d-sm-inline"},v={class:"d-md-none"},g={class:"d-none d-md-block"};function h(e,a,l,h,_,w){const y=(0,t.g2)("Heading"),F=(0,t.g2)("agencies-table"),A=(0,t.g2)("SplitView");return(0,t.uX)(),(0,t.Wv)(u.I,{fluid:"",class:"py-0"},{default:(0,t.k6)((()=>[(0,t.bF)(y,null,{title:(0,t.k6)((()=>[(0,t.Lk)("h2",null,(0,n.v_)(e.$t("agencies")),1),(0,t.Lk)("p",null,(0,n.v_)(e.$t("agencies-management")),1)])),actions:(0,t.k6)((()=>[(0,t.bF)(o.D,{color:"primary",variant:"flat",elevation:"0",onClick:a[0]||(a[0]=(0,i.D$)((e=>h.router.push({name:"agencies-create"})),["prevent"]))},{default:(0,t.k6)((()=>[(0,t.bF)(f.w,null,{default:(0,t.k6)((()=>[(0,t.eW)("mdi-plus")])),_:1}),(0,t.Lk)("span",k,(0,n.v_)(e.$t("new-agency")),1)])),_:1})])),_:1}),(0,t.bF)(A,{class:"mt-3"},{auxiliar:(0,t.k6)((()=>[(0,t.Lk)("div",v,[(0,t.bF)(s.$t,{variant:"accordion",modelValue:h.mobileFiltersExpanded,"onUpdate:modelValue":a[2]||(a[2]=e=>h.mobileFiltersExpanded=e)},{default:(0,t.k6)((()=>[(0,t.bF)(d.c,null,{default:(0,t.k6)((()=>[(0,t.bF)(r.w,{class:"mobile-filters-title"},{default:(0,t.k6)((()=>[(0,t.bF)(f.w,{class:"mr-2"},{default:(0,t.k6)((()=>[(0,t.eW)("mdi-magnify")])),_:1}),(0,t.Lk)("h4",null,(0,n.v_)(e.$t("search")),1)])),_:1}),(0,t.bF)(c.T,null,{default:(0,t.k6)((()=>[(0,t.bF)(m.L,null,{default:(0,t.k6)((()=>[(0,t.bF)(p.B,{cols:"12",class:"pb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(b.W,{class:"simple-search-result",variant:"outlined",label:e.$t("search"),"prepend-inner-icon":"mdi-magnify",clearable:"",modelValue:h.filters.keyword,"onUpdate:modelValue":a[1]||(a[1]=e=>h.filters.keyword=e)},null,8,["label","modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,t.Lk)("div",g,[(0,t.bF)(m.L,null,{default:(0,t.k6)((()=>[(0,t.bF)(p.B,{cols:"12",class:"pb-2"},{default:(0,t.k6)((()=>[(0,t.bF)(b.W,{class:"simple-search-result",variant:"outlined",label:e.$t("search"),"prepend-inner-icon":"mdi-magnify",clearable:"",modelValue:h.filters.keyword,"onUpdate:modelValue":a[3]||(a[3]=e=>h.filters.keyword=e)},null,8,["label","modelValue"])])),_:1})])),_:1})])])),default:(0,t.k6)((()=>[(0,t.bF)(F,{search:h.filters.keyword},null,8,["search"])])),_:1})])),_:1})}var _=l(953),w=l(8118),y=l(768);const F={class:"table-container"},A={class:"payment-buttons buttons buttons--3",style:{"white-space":"nowrap"}};function V(e,a,l,i,s,d){const r=(0,t.g2)("RemoveDialog"),c=(0,t.g2)("datatable");return(0,t.uX)(),(0,t.CE)("div",F,[(0,t.bF)(c,{headers:i.headers,items:i.agencies,"items-per-page":i.itemsPerPage,page:i.page,"onUpdate:options":i.handleTableOptions,class:"v-data-table--in-row-headers",headerless:""},{"item.name":(0,t.k6)((({item:a})=>[(0,t.Lk)("span",null,(0,n.v_)(e.$t("name")),1),(0,t.Lk)("span",null,(0,n.v_)(a.name),1)])),"item.actions":(0,t.k6)((({item:e})=>[(0,t.Lk)("div",A,[(0,t.bF)(o.D,{small:"",icon:"",class:"pl-0 pr-0 fg-primary",onClick:a=>i.info(e.id)},{default:(0,t.k6)((()=>[(0,t.bF)(f.w,{"max-width":"22px"},{default:(0,t.k6)((()=>[(0,t.eW)("mdi-information-outline")])),_:1})])),_:2},1032,["onClick"]),(0,t.bF)(o.D,{small:"",icon:"",class:"ml-2 pl-0 pr-0",onClick:a=>i.edit(e.id)},{default:(0,t.k6)((()=>[(0,t.bF)(f.w,{color:"primary","max-width":"40px"},{default:(0,t.k6)((()=>[(0,t.eW)("mdi-circle-edit-outline")])),_:1})])),_:2},1032,["onClick"]),(0,t.bF)(o.D,{small:"",icon:"",class:"ml-2 pl-0 pr-0",onClick:a=>i.openRemoveDialog(e.id)},{default:(0,t.k6)((()=>[(0,t.bF)(f.w,{color:"error","max-width":"40px"},{default:(0,t.k6)((()=>[(0,t.eW)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"]),(0,t.bF)(r,{item:e,show:i.dialogVisibleId===e.id,onRemoved:i.reload,"onUpdate:show":a=>i.onDialogUpdate(a,e.id)},null,8,["item","show","onRemoved","onUpdate:show"])])])),_:1},8,["headers","items","items-per-page","page","onUpdate:options"])])}var C=l(1459),D=l(9879),R=l(6278),W=l(8028),$={components:{Datatable:D.A,RemoveDialog:W.A},props:{search:{type:String,default:""}},setup(e){const a=(0,R.Pj)(),l=(0,_.KR)(1),n=(0,_.KR)(10),i=(0,t.EW)((()=>a.state.agencies.agencies||[])),o=(0,_.KR)(null),s=(0,_.KR)(!1),d=async(l={})=>{if(!s.value)try{s.value=!0;const l={search:e.search||null};await a.dispatch("agencies/loadAgencies",l)}catch(t){a.dispatch("notificator/errorResponse",t)}finally{s.value=!1}},r=e=>{l.value=e.page,n.value=e.itemsPerPage,d(e)};(0,t.wB)([()=>e.search],(()=>{l.value=1,d()}));const c=(0,t.EW)((()=>[{title:"Nombre",value:"name",align:"start",sortable:!1},{title:"Acciones",value:"actions",align:"center",sortable:!1}])),u=e=>{C.A.push({name:"agencies-edit",params:{id:e}})},m=e=>{C.A.push({name:"agencies-details",params:{id:e}})},p=e=>{o.value=e},f=(e,a)=>{e||(o.value=null)},b=()=>{d()};return{agencies:i,headers:c,page:l,itemsPerPage:n,handleTableOptions:r,edit:u,info:m,openRemoveDialog:p,dialogVisibleId:o,onDialogUpdate:f,reload:b}}},L=l(6262);const x=(0,L.A)($,[["render",V],["__scopeId","data-v-40cab21c"]]);var U=x,P=l(5220),E={components:{Heading:w.A,AgenciesTable:U,SplitView:y.A},setup(){const e=(0,P.rd)(),a=(0,_.KR)([]),l=(0,_.Kh)({keyword:""});return{filters:l,router:e,mobileFiltersExpanded:a}}};const K=(0,L.A)(E,[["render",h],["__scopeId","data-v-37e1eeb4"]]);var I=K},8028:function(e,a,l){l.d(a,{A:function(){return u}});var t=l(641),n=l(33);function i(e,a,l,i,o,s){const d=(0,t.g2)("confirm-dialog");return(0,t.uX)(),(0,t.Wv)(d,{"model-value":l.show,"onUpdate:modelValue":a[0]||(a[0]=a=>e.$emit("update:show",a)),onConfirmed:i.remove},{title:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.$t("delete-location")),1)])),default:(0,t.k6)((()=>[(0,t.eW)(" "+(0,n.v_)(e.$t("delete-location-confirmation",{name:l.item?l.item.name:"-"})),1)])),_:1},8,["model-value","onConfirmed"])}var o=l(6278),s=l(4863),d={components:{ConfirmDialog:s.A},props:{item:{type:Object,required:!1,default:null},show:{type:Boolean,default:!1}},emits:["removed","update:show"],setup(e,{emit:a}){const l=(0,o.Pj)(),t=async()=>{try{await l.dispatch("agencies/deleteAgency",e.item.id),await l.dispatch("notificator/success","location-deleted-success"),a("removed"),a("update:show",!1)}catch(t){await l.dispatch("notificator/errorResponse",t)}};return{remove:t}}},r=l(6262);const c=(0,r.A)(d,[["render",i]]);var u=c}}]);
//# sourceMappingURL=433.8623fba9.js.map