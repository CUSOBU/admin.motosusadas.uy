"use strict";(self["webpackChunkadmin_motosusadas_uy"]=self["webpackChunkadmin_motosusadas_uy"]||[]).push([[781],{2781:function(e,a,t){t.r(a),t.d(a,{default:function(){return w}});t(4114);var l=t(641),n=t(33),s=t(3751),i=t(2807),u=t(3813),c=t(6756),d=t(5526),o=t(3948);const r={class:"mt-7"},v={class:"mb-5"};function m(e,a,t,m,f,g){const p=(0,l.g2)("Heading"),_=(0,l.g2)("search-agencies"),k=(0,l.g2)("Field"),b=(0,l.g2)("Form",!0),h=(0,l.g2)("SplitContent");return(0,l.uX)(),(0,l.Wv)(u.I,{fluid:"",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{title:(0,l.k6)((()=>[(0,l.Lk)("h2",null,(0,n.v_)(e.agency?e.$t("edit-agency"):e.$t("new-agency")),1),(0,l.Lk)("p",null,(0,n.v_)(e.$t("agencies-.details-sub-heading")),1)])),actions:(0,l.k6)((()=>[(0,l.eW)("Â  ")])),_:1}),(0,l.bo)((0,l.bF)(h,{"hide-auxiliar":!e.agency},{auxiliar:(0,l.k6)((()=>[(0,l.bF)(_)])),default:(0,l.k6)((()=>[(0,l.bF)(b,{onSubmit:m.submitForm},{default:(0,l.k6)((({meta:t,errors:u})=>[(0,l.bF)(c.L,{justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(d.B,{cols:"12",md:m.location?"8":""},{default:(0,l.k6)((()=>[(0,l.bF)(c.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(d.B,{cols:"12",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.Lk)("h4",r,(0,n.v_)(e.$t("agencies-.data")),1),(0,l.Lk)("p",v,(0,n.v_)(e.$t("agencies-.information-text")),1)])),_:1}),(0,l.bF)(d.B,{cols:"12",class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{modelValue:m.request.name,"onUpdate:modelValue":a[0]||(a[0]=e=>m.request.name=e),name:"name",rules:"required"},{default:(0,l.k6)((({field:a,errors:t,value:n})=>[(0,l.bF)(o.W,(0,l.v6)(a,{"model-value":n,variant:"outlined","error-messages":t,label:e.$t("name")}),null,16,["model-value","error-messages","label"])])),_:2},1032,["modelValue"])])),_:2},1024),(0,l.bF)(d.B,{cols:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(i.D,{elevation:"0",variant:"outlined",color:"red",block:"",onClick:a[1]||(a[1]=(0,s.D$)((a=>e.$router.push({name:"agencies"})),["prevent"]))},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.$t("discard")),1)])),_:1})])),_:1}),(0,l.bF)(d.B,{cols:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(i.D,{color:"primary",type:"submit",disabled:!t.valid,elevation:"0",block:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.$t("submit")),1)])),_:2},1032,["disabled"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["md"])])),_:2},1024)])),_:1},8,["onSubmit"])])),_:1},8,["hide-auxiliar"]),[[s.aG,!m.isLoading]])])),_:1})}var f=t(953),g=t(6278),p=t(8118),_=t(768),k=t(8300),b=t(5220),h=t(5320),y={components:{Heading:p.A,SplitContent:_.A,searchAgencies:k.A},setup(){const e=(0,f.KR)(!0),a=(0,g.Pj)(),t=(0,f.KR)({name:""}),n=(0,f.KR)(null),s=(0,b.lq)(),i=(0,b.rd)();(0,l.wB)((()=>s.params.id),(async l=>{if(a.dispatch("SET_LOADING",!0),"string"===typeof l){const e=await h.A.getAgencyById(l);void 0!==e&&(n.value={id:e.id,name:e.name},t.value={name:e.name})}else n.value=null,t.value={name:""};e.value=!1,a.dispatch("SET_LOADING",!1)}),{immediate:!0});const u=async()=>{try{n.value?(await a.dispatch("agencies/updateAgency",{agencyId:n.value.id,data:t.value}),await a.dispatch("notificator/success","agency-updated-success")):(await a.dispatch("agencies/createAgency",t.value),await a.dispatch("notificator/success","agency-created-success")),i.push({name:"agencies"})}catch(e){await a.dispatch("notificator/errorResponse",e)}};return{request:t,location:location,submitForm:u,isLoading:e}}},F=t(6262);const A=(0,F.A)(y,[["render",m],["__scopeId","data-v-ff406124"]]);var w=A},8300:function(e,a,t){t.d(a,{A:function(){return k}});var l=t(641),n=t(33),s=t(6756),i=t(5526),u=t(2164),c=t(7254),d=t(7294),o=t(3948);function r(e,a,t,r,v,m){return(0,l.uX)(),(0,l.Wv)(s.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(i.B,null,{default:(0,l.k6)((()=>[(0,l.bF)(s.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(i.B,{class:"mt-2"},{default:(0,l.k6)((()=>[(0,l.bF)(o.W,{dense:"","hide-details":"",modelValue:r.search,"onUpdate:modelValue":a[0]||(a[0]=e=>r.search=e),variant:"outlined",label:e.$t("search")},null,8,["modelValue","label"])])),_:1})])),_:1}),(0,l.bF)(s.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(i.B,{class:"py-0"},{default:(0,l.k6)((()=>[(0,l.bF)(u.x,{class:"v-list-search-result"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.filteredAgencies,((e,a)=>((0,l.uX)(),(0,l.Wv)(c.g,{key:a,color:"primary",onClick:e=>r.selectedItem=a,selected:r.selectedItem===a},{default:(0,l.k6)((()=>[(0,l.bF)(d.U,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.name),1)])),_:2},1024)])),_:2},1032,["onClick","selected"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}t(4114);var v=t(5220),m=t(953),f=t(6278),g={name:"SearchAgencies",setup(){const e=(0,v.rd)(),a=(0,v.lq)(),t=(0,f.Pj)(),n=(0,m.KR)(null),s=(0,m.KR)(""),i=(0,m.KR)(null),u=(0,l.EW)((()=>t.state.agencies.agencies||[])),c=(0,l.EW)((()=>{if(!s.value)return u.value;const e=s.value.toLowerCase();return u.value.filter((a=>a.name&&a.name.toLowerCase().includes(e)))}));(0,l.wB)(s,(async()=>{n.value&&clearTimeout(n.value),n.value=window.setTimeout((function(){d()}),1e3)})),(0,l.wB)(i,(async a=>{let t="agencies-edit";"agencies-details"===e.currentRoute.value.name&&(t="agencies-details"),null!==i.value&&c.value[i.value]&&e.push({name:t,params:{id:c.value[i.value].id}})}));const d=async()=>{try{const e={search:s.value||null};await t.dispatch("agencies/loadAgencies",e)}catch(e){t.dispatch("notificator/errorResponse",e)}};return(0,l.sV)((async()=>{if(await d(),c.value){const e=c.value.findIndex((e=>e.id===a.params.id));-1!==e&&(i.value=e)}})),{search:s,filteredAgencies:c,selectedItem:i}}},p=t(6262);const _=(0,p.A)(g,[["render",r],["__scopeId","data-v-c3e4910a"]]);var k=_},8118:function(e,a,t){t.d(a,{A:function(){return p}});var l=t(641),n=t(33),s=t(2807),i=t(6756),u=t(5526),c=t(9669);const d={class:"heading-container"};function o(e,a,t,o,r,v){return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.bF)(i.L,{class:"mt-5"},{default:(0,l.k6)((()=>[(0,l.bF)(u.B,{cols:"8",sm:"4",class:"heading-title"},{default:(0,l.k6)((()=>[(0,l.RG)(e.$slots,"title",{},(()=>[(0,l.Lk)("h2",null,(0,n.v_)(e.$t("dashboard")),1),(0,l.Lk)("p",null,(0,n.v_)(e.$t("dashboard-welcome")),1)]),!0)])),_:3}),(0,l.bF)(u.B,{cols:"4",sm:"8",class:"heading-actions"},{default:(0,l.k6)((()=>[(0,l.RG)(e.$slots,"actions",{},void 0,!0),o.lgAndUp?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(s.D,{key:0,text:"",dark:"",class:"action-btn",onClick:o.toggleDrawer},{default:(0,l.k6)((()=>[(0,l.bF)(c.w,{color:"#2d6283"},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-menu")])),_:1})])),_:1},8,["onClick"]))])),_:3})])),_:3})])}var r=t(6278),v=t(8353),m={setup(){const{lgAndUp:e}=(0,v._F)(),a=(0,r.Pj)(),t=()=>{a.commit("toggleDrawer")};return{lgAndUp:e,toggleDrawer:t}}},f=t(6262);const g=(0,f.A)(m,[["render",o],["__scopeId","data-v-6ab045b7"]]);var p=g},768:function(e,a,t){t.d(a,{A:function(){return r}});var l=t(641),n=t(33);const s={key:0};function i(e,a,t,i,u,c){return(0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)("split-content "+(t.hideAuxiliar?"split-content__single":""))},[t.hideAuxiliar?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",s,[(0,l.RG)(e.$slots,"auxiliar",{},void 0,!0)])),(0,l.Lk)("div",null,[(0,l.RG)(e.$slots,"default",{},void 0,!0)])],2)}var u=t(953),c={props:{hideAuxiliar:{type:Boolean,default:!1}},setup(e){const a=(0,u.KR)({});return(0,l.sV)((()=>{})),{data:a}}},d=t(6262);const o=(0,d.A)(c,[["render",i],["__scopeId","data-v-7d834eee"]]);var r=o}}]);
//# sourceMappingURL=781.d3ee8de2.js.map